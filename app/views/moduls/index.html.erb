
<%= stylesheet_link_tag "//cdn.datatables.net/plug-ins/3cfcc339e89/integration/bootstrap/3/dataTables.bootstrap.css" %>
<h1>Modul√ºbersicht</h1>
<%= render 'form' %>
<table id="module-table" class="table table-striped table-bordered">
 <thead>
 <tr>
  <th>Titel</th>
  <th>Nummer</th>
  <th>Form</th>
  <th>Credits</th>
  <th>Lehrveranstaltungen</th>
 </tr>
 </thead>

 <tbody>
 <% @modul_lvs.each do |modul_nummer, lvs| %>
  <tr>
   <% if @moduls.include?(modul_nummer) %>
    <td><%= link_to @moduls[modul_nummer].titel, modul_path(modul_nummer) %></td>
    <td><%= modul_nummer %></td>
    <td><%= @moduls[modul_nummer].form %></td>
    <td><%= @moduls[modul_nummer].credits %></td>
   <% else %>
    <td><%= modul_nummer %></td>
    <td><%= modul_nummer %></td>
    <td />
    <td />
   <% end %>
   <td><ul>
    <% @modul_lvs[modul_nummer].each do |lv_titel, lv_id| %>
     <li lvid="<%= lv_id %>">
      <%= lv_titel %>
     </li>
    <% end %>
   </ul></td>
  </tr>
 <% end %>
 </tbody>
</table>

<script type=text/javascript>
   var ready;
   ready = function() {
      $('#module-table').DataTable({
         paging: false
   });
   };
   $(document).ready(ready);
   $(document).on('page:load', ready);
</script>

<%= javascript_include_tag "//cdn.datatables.net/1.10.4/js/jquery.dataTables.min.js" %>
<%= javascript_include_tag "//cdn.datatables.net/plug-ins/3cfcc339e89/integration/bootstrap/3/dataTables.bootstrap.js" %>
